
<translog>
	<formatter>
		<field>
			<value>Layer0</value>
            <fmtName>bitrate_str</fmtName>
		</field>
		<field>
			<value>(%u)</value>
			<fieldFmt>
				<case>lower</case>
				<match>https?://.*(Layer\d|stream\d).*\.ts</match>
				<field>
					<value>($1)</value>
					<fmtName>bitrate_str</fmtName>
				</field>
			</fieldFmt>
		</field>
		<field>
			<value>(@bitrate_str)</value>
			<fieldFmt>
				<match>\D+(\d)</match>
				<field>
					<expValue>($1)*300000 </expValue>
					<fmtName>bitrate</fmtName>
					<type>int</type>
				</field>
			</fieldFmt>
		</field>
		<field>
			<value>(@bitrate)</value>
			<fieldFmt>
				<match>1500000</match>
				<field>
					<value>1600000</value>
					<fmtName>bitrate</fmtName>
					<type>int</type>
				</field>
			</fieldFmt>
		</field>
		<field>
			<value>(@bitrate)</value>
			<fieldFmt>
				<match>1800000</match>
				<field>
					<value>2000000</value>
					<fmtName>bitrate</fmtName>
					<type>int</type>
				</field>
			</fieldFmt>
		</field>
	</formatter>

	<analyser>
		<outputs>
			<output>
				<fmtName>bitrate</fmtName>
				<expType>map</expType>
			</output>
			<output>
				<fmtName>bitrate</fmtName>
				<expType>average</expType>
			</output>
		</outputs>
		<filters>
			<filter>
				<fmtName>bitrate</fmtName>
				<notExp>
					<equal>0</equal>
				</notExp>
			</filter>
		</filters>
		<pace>10</pace>
	</analyser>
</translog>
